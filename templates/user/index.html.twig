{% extends 'base.html.twig' %}

{% block title %}Gestion des membres
{% endblock %}

{% block body %}

	{% for message in app.flashes('success') %}
		<div class="alert alert-success text-center w-50 mx-auto my-2">{{message}}</div>
	{% endfor %}
	<div class="container">
		<h1 class="text-center">Gestion des membres</h1>
		<table class="table table-primary">
			<thead class="text-center">
				<td>Membre n°</td>
				<td>Pseudo</td>
				<td>Nom</td>
				<td>Prenom</td>
				<td>Email</td>
				<td>Civilité</td>
				<td>Date_enregistrement</td>
				<td>Actions</td>
			</thead>

			<tbody class="text-center">
				{% for user in users %}
					<tr>
						<td>{{user.id}}</td>
						<td>{{user.pseudo}}</td>
						<td>{{user.password}}</td>
						<td>{{user.nom}}</td>
						<td>{{user.prenom}}</td>
						<td>{{user.email}}</td>
						<td>{{user.civilite}}</td>
						<td>{{user.date_enregistrement}}</td>
						<td>
							<a href="#" class=" text-info">
								<i class="fa fa-search"></i>
							</a>
							<a href="{{path('admin_user_edit', {id: user.id})}}" class="text-warning">
								<i class="fa fa-edit"></i>
							</a>
							<a href="#" class="text-danger">
								<i class="fa fa-trash"></i>
							</a>
						</td>
					</tr>
				{% endfor %}
			</tbody>
		</table>
	</div>
	<div class="container mt-5">


		{{form_start(form, {
    attr: {
        novalidate: 'novalidate'
    }
})}}

		{{ form_row(form.pseudo)}}
		{{ form_row(form.password)}}
		{{ form_row(form.nom)}}
		{{ form_row(form.prenom)}}
		{{ form_row(form.email)}}
		{{ form_row(form.civilite)}}
		{{ form_row(form.roles)}}


		<button type="submit" class="btn btn-primary">Enregistrer</button>

		{{ form_end(form)}}

	</div>

{% endblock %}
